<!--
 * @Description: 
 * @Author: Qing Shi
 * @Date: 2024-07-01 00:15:05
 * @LastEditors: Qing Shi
 * @LastEditTime: 2024-08-03 16:23:09
-->
<!--
 *                        _oo0oo_
 *                       o8888888o
 *                       88" . "88
 *                       (| -_- |)
 *                       0\  =  /0
 *                     ___/`---'\___
 *                   .' \\|     |// '.
 *                  / \\|||  :  |||// \
 *                 / _||||| -:- |||||- \
 *                |   | \\\  - /// |   |
 *                | \_|  ''\---/''  |_/ |
 *                \  .-\__  '-'  ___/-. /
 *              ___'. .'  /--.--\  `. .'___
 *           ."" '<  `.___\_<|>_/___.' >' "".
 *          | | :  `- \`.;`\ _ /`;.`/ - ` : | |
 *          \  \ `_.   \_ __\ /__ _/   .-` /  /
 *      =====`-.____`.___ \_____/___.-`___.-'=====
 *                        `=---='
 * 
 * 
 *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 * 
 *            佛祖保佑     永不宕机     永无BUG
 -->

<!--
 * @Description: 
 * @Author: Qing Shi
 * @Date: 2024-07-01 00:15:05
 * @LastEditors: Qing Shi
 * @LastEditTime: 2024-08-01 19:30:44
-->
<!--
 *                        _oo0oo_
 *                       o8888888o
 *                       88" . "88
 *                       (| -_- |)
 *                       0\  =  /0
 *                     ___/`---'\___
 *                   .' \\|     |// '.
 *                  / \\|||  :  |||// \
 *                 / _||||| -:- |||||- \
 *                |   | \\\  - /// |   |
 *                | \_|  ''\---/''  |_/ |
 *                \  .-\__  '-'  ___/-. /
 *              ___'. .'  /--.--\  `. .'___
 *           ."" '<  `.___\_<|>_/___.' >' "".
 *          | | :  `- \`.;`\ _ /`;.`/ - ` : | |
 *          \  \ `_.   \_ __\ /__ _/   .-` /  /
 *      =====`-.____`.___ \_____/___.-`___.-'=====
 *                        `=---='
 * 
 * 
 *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 * 
 *            佛祖保佑     永不宕机     永无BUG
 -->

<!--
 *                        _oo0oo_
 *                       o8888888o
 *                       88" . "88
 *                       (| -_- |)
 *                       0\  =  /0
 *                     ___/`---'\___
 *                   .' \\|     |// '.
 *                  / \\|||  :  |||// \
 *                 / _||||| -:- |||||- \
 *                |   | \\\  - /// |   |
 *                | \_|  ''\---/''  |_/ |
 *                \  .-\__  '-'  ___/-. /
 *              ___'. .'  /--.--\  `. .'___
 *           ."" '<  `.___\_<|>_/___.' >' "".
 *          | | :  `- \`.;`\ _ /`;.`/ - ` : | |
 *          \  \ `_.   \_ __\ /__ _/   .-` /  /
 *      =====`-.____`.___ \_____/___.-`___.-'=====
 *                        `=---='
 * 
 * 
 *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 * 
 *            佛祖保佑     永不宕机     永无BUG
 -->

<!--
 * @Description: 
 * @Author: Qing Shi
 * @Date: 2024-02-01 19:32:17
 * @LastEditors: Qing Shi
 * @LastEditTime: 2024-03-03 22:17:13
-->
<template>
    <div style="width: 100%; height: 100%;">
        <el-dialog v-model="previewDialogTag" width="70%">
            <img w-full :src="previewUrl" alt="Preview Image" style="width: 100%;"/>
        </el-dialog>

        <el-dialog v-model="editMetricTag" width="65%" title="评估指标">
            <div class="align-class" style="margin-top: 0px;">
                <div style="width: 80px;">指标</div>
                <div style="width: 15%;">
                    定义
                </div>
                <div style="width: 15%;">
                    1级
                </div>
                <div style="width: 15%;">
                    2级
                </div>
                <div style="width: 15%;">
                    3级
                </div>
                <div style="width: 15%;">
                    4级
                </div>
                <div style="width: 15%;">
                    5级
                </div>
            </div>
            <div class="align-class" v-for="(d, i) in criterionList" :key="'edit_metric_' + i" style="margin-top: 10px;">
                <el-input v-model="criterionList[i].label" style="width: 80px;"></el-input>
                <div style="width: 15%;">
                    <el-input v-model="criterionList[i].info.Definition" style="width: 90%;" type="textarea" ></el-input>
                </div>
                <div style="width: 15%;">
                    <el-input v-model="criterionList[i].info.Rating_1" style="width: 90%;" type="textarea" ></el-input>
                </div>
                <div style="width: 15%;">
                    <el-input v-model="criterionList[i].info.Rating_2" style="width: 90%;" type="textarea" ></el-input>
                </div>
                <div style="width: 15%;">
                    <el-input v-model="criterionList[i].info.Rating_3" style="width: 90%;" type="textarea" ></el-input>
                </div>
                <div style="width: 15%;">
                    <el-input v-model="criterionList[i].info.Rating_4" style="width: 90%;" type="textarea" ></el-input>
                </div>
                <div style="width: 15%;">
                    <el-input v-model="criterionList[i].info.Rating_5" style="width: 90%;" type="textarea" ></el-input>
                </div>
            </div>
            <div style="margin-top: 20px;">
                <el-button type="primary" @click="addMetric()">新建</el-button>
                <el-button type="info">生成</el-button>
                <el-button type="success" @click="previewDialogTag = !previewDialogTag">确认</el-button>
                <el-button type="danger" @click="previewDialogTag = !previewDialogTag">取消</el-button>
            </div>
        </el-dialog>
        <el-dialog v-model="uploadDialogTag" title="Design Upload" width="600">
            <el-upload action="#" list-type="picture-card" :auto-upload="false" :on-change="handleSuccess">
                <svg t="1722558768874" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21906" width="20" height="20"><path d="M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z" fill="#000000" p-id="21907"></path><path d="M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z" fill="#000000" p-id="21908"></path></svg>

                <template #file="{ file }">
                <div>
                    <img class="el-upload-list__item-thumbnail" :src="file.url" alt="" />
                    <span class="el-upload-list__item-actions">
                    <span
                        class="el-upload-list__item-preview"
                        @click="showPreview(file.url)"
                    >
                        <svg t="1722558737907" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20827" width="20" height="20"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" p-id="20828" fill="#fff"></path><path d="M921 867L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" p-id="20829" fill="#fff"></path></svg>
                    </span>
                    <span
                        class="el-upload-list__item-delete"
                        @click="handleDownload(file)"
                    >
                        <svg t="1722558713598" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19829" width="20" height="20"><path d="M1022.955204 522.570753c0 100.19191-81.516572 181.698249-181.718715 181.698249l-185.637977 0c-11.2973 0-20.466124-9.168824-20.466124-20.466124 0-11.307533 9.168824-20.466124 20.466124-20.466124l185.637977 0c77.628008 0 140.786467-63.148226 140.786467-140.766001 0-77.423347-62.841234-140.448776-140.203182-140.766001-0.419556 0.030699-0.818645 0.051165-1.217734 0.061398-5.945409 0.143263-11.686157-2.292206-15.687284-6.702656-4.001127-4.400217-5.894244-10.335393-5.167696-16.250102 1.330298-10.806113 1.944282-19.760043 1.944282-28.192086 0-60.763922-23.658839-117.884874-66.617234-160.833035-42.968627-42.968627-100.089579-66.617234-160.843268-66.617234-47.368844 0-92.742241 14.449084-131.208321 41.781592-37.616736 26.738991-65.952084 63.700811-81.925894 106.884332-2.425236 6.538927-8.012488 11.399631-14.827707 12.893658-6.815219 1.483794-13.927197-0.603751-18.859533-5.54632-19.289322-19.330254-44.943608-29.972639-72.245418-29.972639-56.322773 0-102.146425 45.813419-102.146425 102.125959 0 0.317225 0.040932 0.982374 0.092098 1.627057 0.061398 0.920976 0.122797 1.831718 0.153496 2.762927 0.337691 9.465582-5.863545 17.928325-15.001669 20.455891-32.356942 8.933463-61.541635 28.550243-82.181721 55.217602-21.305235 27.516704-32.571836 60.508096-32.571836 95.41307 0 86.244246 70.188572 156.422585 156.443052 156.422585l169.981393 0c11.2973 0 20.466124 9.15859 20.466124 20.466124 0 11.2973-9.168824 20.466124-20.466124 20.466124l-169.981393 0c-108.828614 0-197.3753-88.536452-197.3753-197.354833 0-44.053332 14.223956-85.712127 41.126676-120.473839 22.809495-29.460985 53.897537-52.086285 88.710414-64.816215 5.065366-74.322729 67.149353-133.2447 142.751215-133.2447 28.386514 0 55.504128 8.217149 78.651314 23.52581 19.657712-39.868009 48.842405-74.169233 85.497233-100.212376 45.434795-32.295544 99.004875-49.354058 154.918325-49.354058 71.692832 0 139.087778 27.915793 189.782368 78.600149 50.694589 50.694589 78.610382 118.089535 78.610382 189.782368 0 3.704368-0.102331 7.470135-0.296759 11.368932C952.633602 352.568894 1022.955204 429.511287 1022.955204 522.570753z" p-id="19830" fill="#fff"></path><path d="M629.258611 820.711014l-102.023628 102.013395c-3.990894 4.001127-9.230222 5.996574-14.46955 5.996574s-10.478655-1.995447-14.46955-5.996574l-102.023628-102.013395c-7.992021-7.992021-7.992021-20.947078 0-28.939099s20.947078-8.002254 28.939099 0l67.087954 67.077721 0-358.699522c0-11.2973 9.15859-20.466124 20.466124-20.466124 11.307533 0 20.466124 9.168824 20.466124 20.466124l0 358.699522 67.087954-67.077721c7.992021-8.002254 20.947078-7.992021 28.939099 0S637.250632 812.718993 629.258611 820.711014z" p-id="19831" fill="#fff"></path></svg>
                    </span>
                    <span
                        class="el-upload-list__item-delete"
                        @click="handleRemove(file)"
                    >
                        <svg t="1722558680407" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18742" width="20" height="20"><path d="M972.657609 209.348408C987.158609 209.36839 998.930114 197.571202 998.949999 182.99865 998.969882 168.426097 987.230618 156.59651 972.729617 156.576528L32.457975 155.280806C17.956974 155.260823 6.18547 167.058012 6.165585 181.630564 6.1457 196.203116 17.884965 208.032703 32.385966 208.052686L972.657609 209.348408Z" fill="#fff" p-id="18743"></path><path d="M180.466902 992.356169 180.466902 1019.014859 206.993296 1018.74074 833.361858 1012.267947 859.348284 1011.999407 859.348284 985.883377 859.348284 289.397297C859.348284 274.824732 847.59289 263.011332 833.091874 263.011332 818.590859 263.011332 806.835465 274.824732 806.835465 289.397297L806.835465 985.883377 832.82189 959.498805 206.453329 965.971599 232.979723 992.356169 232.979723 282.67005C232.979723 268.097483 221.224329 256.284085 206.723313 256.284085 192.222298 256.284085 180.466902 268.097483 180.466902 282.67005L180.466902 992.356169Z" fill="#fff" p-id="18744"></path><path d="M656.410257 847.079027C656.410257 861.651593 668.165651 873.464992 682.666667 873.464992 697.167682 873.464992 708.923076 861.651593 708.923076 847.079027L708.923076 372.131659C708.923076 357.559091 697.167682 345.745694 682.666667 345.745694 668.165651 345.745694 656.410257 357.559091 656.410257 372.131659L656.410257 847.079027Z" fill="#fff" p-id="18745"></path><path d="M341.333333 847.079027C341.333333 861.651593 353.08873 873.464992 367.589743 873.464992 382.090758 873.464992 393.846155 861.651593 393.846155 847.079027L393.846155 372.131659C393.846155 357.559091 382.090758 345.745694 367.589743 345.745694 353.08873 345.745694 341.333333 357.559091 341.333333 372.131659L341.333333 847.079027Z" fill="#fff" p-id="18746"></path><path d="M498.871795 847.079027C498.871795 861.651593 510.627189 873.464992 525.128205 873.464992 539.62922 873.464992 551.384614 861.651593 551.384614 847.079027L551.384614 372.131659C551.384614 357.559091 539.62922 345.745694 525.128205 345.745694 510.627189 345.745694 498.871795 357.559091 498.871795 372.131659L498.871795 847.079027Z" fill="#fff" p-id="18747"></path><path d="M392.147755 116.721777C392.147755 102.063669 403.758665 90.363507 418.40134 90.363507L622.925796 90.363507C637.408947 90.363507 649.179381 102.1619 649.179381 116.549585L649.179381 171.644875 701.692203 171.644875 701.692203 116.549585C701.692203 72.986607 666.38105 37.591577 622.925796 37.591577L418.40134 37.591577C374.724427 37.591577 339.634933 72.950804 339.634933 116.721777L339.634933 165.310801 392.147755 165.310801 392.147755 116.721777Z" fill="#fff" p-id="18748"></path></svg>
                    </span>
                    </span>
                </div>
                </template>
            </el-upload>
            <h3>笔记</h3>
            <el-input
                v-model="uploadData.note"
                style="width: 80%"
                :autosize="{ minRows: 4, maxRows: 8 }"
                type="textarea"
                placeholder="Please input"
            />
            <div style="margin-top: 20px;">
                <el-button type="primary" @click="upload()">上传</el-button>
            </div>
        </el-dialog>
        <div class="subRect" style="left: 0px; width: 24%">
            <div class="subtitle">
                <span>
                    &nbsp;问题列表
                </span>
            </div>
            <div class="subContent">
                <div v-for="(problemData, problem_Type) in problemList" :key="'problemList_' + problem_Type" class="container" style="background-color: #ddd;">
                    <div>
                        {{ problem_Type }}
                    </div>
                    <div v-for="(problem, problem_i) in problemData" :key="'s_problem' + problem_i" class="container" :style="{ 'border-color': problem.selectStatus == 1 ? 'rgba(255, 159, 49, 1)' : '#AAA', backgroundColor: 'white' }">
                        <!-- <div v-if="problem.selectStatus == 1" :style="{
                                position: 'absolute',
                                right: '-7px',
                                top: 'calc(50% - 15px)',
                                backgroundColor: 'white',
                                borderRadius: '10px',
                            }">
                            <svg t="1721313950720" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4589" width="20" height="20">
                                <path
                                    d="M448 448H192v128h256v256h128V576h256V448H576V192H448v256z m64 576A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z"
                                    fill="#FF9F31" p-id="4590"></path>
                            </svg>
                        </div> -->
                        <div class="align-class">
                            <span class="align-class">
                                <span class="title uxButton" @click="selectProblem(problem, 1)">
                                        {{ problem.Video + ' ' + secondsToHMS(problem.Timestamp) }}
                                </span> &nbsp;
                                <div @click="problem.finishTag = !problem.finishTag" class="uxButton">
                                    <svg v-if="problem.finishStatus == 0" t="1722527575157" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7245" width="20" height="20"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" p-id="7246" fill="#d81e06"></path><path d="M512 688m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="7247" fill="#d81e06"></path><path d="M488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" p-id="7248" fill="#d81e06"></path></svg>&nbsp;

                                    <svg v-else-if="problem.finishStatus == 1" t="1722527087709" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5166" width="20" height="20"><path d="M542.272 64a454.4 454.4 0 1 1-0.704 908.8c-140.608-3.2-261.76-62.912-361.6-177.664a32 32 0 0 1 48.256-42.048c88.32 101.504 192.64 152.96 314.048 155.712a390.4 390.4 0 1 0-388.992-423.872l73.344-73.216a32 32 0 0 1 48.96 40.832l-3.712 4.416L163.2 565.568a32 32 0 0 1-40.832 3.712l-4.48-3.712L9.408 456.96a32 32 0 0 1 40.832-48.96l4.48 3.712 38.336 38.4A454.528 454.528 0 0 1 542.272 64z m0 224.192a32 32 0 0 1 32 32v178.752l162.368 156.352a32 32 0 0 1-44.416 46.08l-172.16-165.76a32 32 0 0 1-9.792-23.04V320.192a32 32 0 0 1 32-32z" fill="#f4ea2a" p-id="5167"></path></svg>&nbsp;
                                    <svg v-else t="1722527413330" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6210" width="18" height="18"><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512z m0-960a448 448 0 1 0 416.736 611.52A27.552 27.552 0 0 1 928 672a31.424 31.424 0 0 1 10.656-23.36A448 448 0 0 0 512 64z m246.624 342.72l-288 288A32 32 0 0 1 448 704a31.52 31.52 0 0 1-24.256-11.84l-0.32 0.32-160-192 0.32-0.32A31.392 31.392 0 0 1 256 480a32 32 0 0 1 32-32 31.52 31.52 0 0 1 24.256 11.84l0.32-0.32 137.6 165.12 263.232-263.36a32.064 32.064 0 0 1 45.216 45.44z" fill="#1afa29" p-id="6211"></path></svg>
                                </div>
                                &nbsp;
                                <div v-if="problem.finishTag" class="align-class">
                                    | &nbsp;
                                    <svg class="uxButton" @click="changeStatus(problem, 0)" t="1722527575157" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7245" width="20" height="20"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" p-id="7246" fill="#d81e06"></path><path d="M512 688m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="7247" fill="#d81e06"></path><path d="M488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" p-id="7248" fill="#d81e06"></path></svg>&nbsp;

                                    <svg class="uxButton" @click="changeStatus(problem, 1)" t="1722527087709" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5166" width="20" height="20"><path d="M542.272 64a454.4 454.4 0 1 1-0.704 908.8c-140.608-3.2-261.76-62.912-361.6-177.664a32 32 0 0 1 48.256-42.048c88.32 101.504 192.64 152.96 314.048 155.712a390.4 390.4 0 1 0-388.992-423.872l73.344-73.216a32 32 0 0 1 48.96 40.832l-3.712 4.416L163.2 565.568a32 32 0 0 1-40.832 3.712l-4.48-3.712L9.408 456.96a32 32 0 0 1 40.832-48.96l4.48 3.712 38.336 38.4A454.528 454.528 0 0 1 542.272 64z m0 224.192a32 32 0 0 1 32 32v178.752l162.368 156.352a32 32 0 0 1-44.416 46.08l-172.16-165.76a32 32 0 0 1-9.792-23.04V320.192a32 32 0 0 1 32-32z" fill="#f4ea2a" p-id="5167"></path></svg>&nbsp;
                                    <svg class="uxButton" @click="changeStatus(problem, 2)" t="1722527413330" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6210" width="18" height="18"><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512z m0-960a448 448 0 1 0 416.736 611.52A27.552 27.552 0 0 1 928 672a31.424 31.424 0 0 1 10.656-23.36A448 448 0 0 0 512 64z m246.624 342.72l-288 288A32 32 0 0 1 448 704a31.52 31.52 0 0 1-24.256-11.84l-0.32 0.32-160-192 0.32-0.32A31.392 31.392 0 0 1 256 480a32 32 0 0 1 32-32 31.52 31.52 0 0 1 24.256 11.84l0.32-0.32 137.6 165.12 263.232-263.36a32.064 32.064 0 0 1 45.216 45.44z" fill="#1afa29" p-id="6211"></path></svg>
                                </div>
                            </span>
                            <span class="icon uxButton">
                                <svg t="1721144591461" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                    xmlns="http://www.w3.org/2000/svg" p-id="1750" width="20" height="20">
                                    <path
                                        d="M509.92 795.84c157.904 0 285.92-128.016 285.92-285.92C795.84 352 667.808 224 509.92 224 352 224 224 352 224 509.92c0 157.904 128 285.92 285.92 285.92z m0 48C325.504 843.84 176 694.32 176 509.92 176 325.504 325.504 176 509.92 176c184.416 0 333.92 149.504 333.92 333.92 0 184.416-149.504 333.92-333.92 333.92z m-2.448-400.704h16a16 16 0 0 1 16 16v201.728a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16V459.136a16 16 0 0 1 16-16z m0-100.176h16a16 16 0 0 1 16 16v23.648a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16v-23.648a16 16 0 0 1 16-16z"
                                        fill="#6c6c6c" p-id="1751"></path>
                                </svg>

                            </span>
                        </div>
                        <div class="content">
                            {{ problem.Problem }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="subRect" style="left: calc(24% + 10px); width: calc(35% - 20px)">
            <div class="subtitle align-class">
                <div>
                    &nbsp;启发列表
                </div>
                <span style="font-size: 15px; font-weight: normal;">
                    <span @click="createStartingPoint()" class="uxButton" style="text-decoration: underline;">
                        新建
                    </span>
                    |
                    <el-popover placement="bottom" :width="100" trigger="click">
                        <template #reference>
                            <!-- 评估指标 -->
                            <span class="uxButton" style="text-decoration: underline;">评估</span>
                            
                        </template>
                        <el-checkbox v-for="(d, i) in criterionList" :key="'criterionList_' + i" style="margin-top: 10px;" :value="d.value" v-model="criterionList[i].status">
                            <el-input v-model="criterionList[i].label" style="width: 100px;"></el-input>
                            <!-- {{ d }} -->
                        </el-checkbox>
                        <div>
                            <!-- addMetric() -->
                            <el-button style="margin-top: 10px;" @click="editMetricTag = !editMetricTag"><svg t="1722493771653" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12842" width="15" height="15"><path d="M576 64H448v384H64v128h384v384h128V576h384V448H576z" fill="#262626" p-id="12843"></path></svg></el-button>
                        </div>
                    </el-popover>
                    | 
                    <span class="uxButton" @click="compareTag = !compareTag" style="text-decoration: underline;">
                        对比
                    </span>
                </span>
            </div>
            <div class="subContent" :style="{height: compareTag == true ? 'calc(58% - 12px)' : 'calc(100% - 30px)'}">
                <div v-for="(problem, problem_i) in startingPoint" :key="'startingPoint_' + problem_i" class="container" :style="{ 'border-color': problem.selectStatus == 1 ? 'rgba(255, 159, 49, 1)' : '#AAA' }">
                    <div class="align-class">
                        <span style="display: flex; align-items: center;">
                            <span @click="selectProblem(problem, 2)" class="title uxButton">{{ '启发' + (problem_i + 1) }}</span> &nbsp;
                            <span @click="problem.authorTag = !problem.authorTag" class="align-class uxButton">
                                <svg v-if="problem.authorStatus == 0" t="1722532863560" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7316" width="18" height="18"><path d="M517.12 998.4h-40.96c-15.36 0-25.6-15.36-25.6-25.6s15.36-25.6 25.6-25.6H522.24c15.36 0 25.6 10.24 25.6 25.6s-10.24 25.6-25.6 25.6h-5.12z m102.4-10.24c-10.24 0-20.48-10.24-25.6-20.48-5.12-15.36 5.12-25.6 20.48-30.72l46.08-15.36c15.36-5.12 25.6 0 30.72 15.36 5.12 15.36 0 25.6-15.36 30.72-15.36 5.12-35.84 10.24-51.2 15.36l-5.12 5.12z m-235.52-5.12h-5.12c-15.36-5.12-35.84-10.24-51.2-15.36-15.36-5.12-20.48-20.48-15.36-35.84 5.12-15.36 20.48-20.48 35.84-15.36l46.08 15.36c15.36 5.12 20.48 20.48 15.36 30.72-5.12 10.24-15.36 20.48-25.6 20.48z m363.52-51.2c-10.24 0-15.36-5.12-20.48-10.24-5.12-10.24-5.12-25.6 10.24-35.84 15.36-10.24 25.6-15.36 40.96-25.6 10.24-10.24 25.6-5.12 35.84 5.12s5.12 25.6-5.12 35.84l-46.08 30.72h-15.36zM256 921.6c-5.12 0-10.24 0-15.36-5.12-15.36-10.24-30.72-20.48-40.96-30.72-10.24-10.24-10.24-25.6-5.12-35.84 10.24-10.24 25.6-10.24 35.84-5.12 10.24 10.24 25.6 20.48 40.96 30.72 10.24 10.24 15.36 25.6 5.12 35.84-5.12 5.12-10.24 10.24-20.48 10.24z m604.16-81.92c-5.12 0-10.24 0-15.36-5.12-10.24-10.24-10.24-25.6 0-35.84 10.24-10.24 20.48-25.6 30.72-35.84 10.24-10.24 25.6-15.36 35.84-5.12 10.24 10.24 15.36 25.6 5.12 35.84-10.24 15.36-20.48 30.72-35.84 40.96-5.12 5.12-15.36 5.12-20.48 5.12z m-711.68-15.36c-5.12 0-15.36-5.12-20.48-10.24l-30.72-46.08c-5.12-10.24-5.12-25.6 10.24-35.84 10.24-5.12 25.6-5.12 35.84 10.24 10.24 15.36 15.36 25.6 25.6 40.96 10.24 10.24 5.12 25.6-5.12 35.84 0 5.12-5.12 5.12-15.36 5.12z m788.48-102.4h-10.24c-15.36-5.12-20.48-20.48-15.36-35.84l15.36-46.08c5.12-15.36 20.48-20.48 30.72-15.36 15.36 5.12 20.48 20.48 15.36 30.72-5.12 15.36-10.24 35.84-20.48 51.2 0 5.12-5.12 15.36-15.36 15.36z m-855.04-20.48c-10.24 0-20.48-5.12-25.6-15.36-5.12-15.36-10.24-35.84-15.36-51.2-5.12-15.36 5.12-25.6 20.48-30.72 15.36-5.12 25.6 5.12 30.72 20.48 0 10.24 5.12 25.6 10.24 40.96 5.12 15.36 0 25.6-15.36 30.72l-5.12 5.12zM972.8 583.68c-5.12 0-5.12 0 0 0-15.36 0-25.6-15.36-25.6-25.6V512c0-15.36 10.24-25.6 25.6-25.6s25.6 10.24 25.6 25.6v56.32c-5.12 5.12-15.36 15.36-25.6 15.36z m-921.6-25.6c-15.36 0-25.6-10.24-25.6-25.6v-25.6-30.72c0-15.36 15.36-25.6 25.6-25.6 15.36 0 25.6 15.36 25.6 25.6v46.08c0 25.6-10.24 35.84-25.6 35.84z m911.36-117.76c-10.24 0-20.48-10.24-25.6-20.48l-15.36-46.08c0-15.36 5.12-30.72 20.48-35.84 15.36-5.12 25.6 5.12 30.72 15.36 5.12 15.36 10.24 35.84 15.36 51.2 5.12 15.36-5.12 25.6-20.48 30.72 0 5.12-5.12 5.12-5.12 5.12zM66.56 419.84h-5.12c-15.36-5.12-20.48-20.48-20.48-35.84 5.12-15.36 10.24-35.84 15.36-51.2 5.12-15.36 20.48-20.48 30.72-15.36 15.36 5.12 20.48 20.48 15.36 30.72 0 20.48-5.12 35.84-10.24 51.2-5.12 10.24-15.36 20.48-25.6 20.48zM911.36 307.2c-10.24 0-15.36-5.12-20.48-10.24-10.24-15.36-15.36-25.6-25.6-40.96-10.24-10.24-5.12-25.6 5.12-35.84 10.24-10.24 25.6-5.12 35.84 5.12l30.72 46.08c5.12 10.24 5.12 25.6-10.24 35.84h-15.36zM122.88 286.72c-5.12 0-10.24 0-15.36-5.12-10.24-5.12-10.24-20.48-5.12-35.84 10.24-15.36 20.48-25.6 30.72-40.96 10.24-10.24 25.6-10.24 35.84-5.12 10.24 10.24 10.24 25.6 5.12 35.84-10.24 15.36-20.48 25.6-25.6 40.96-5.12 5.12-15.36 10.24-25.6 10.24zM819.2 194.56c-5.12 0-10.24 0-15.36-5.12-10.24-10.24-25.6-20.48-35.84-30.72-10.24-10.24-15.36-25.6-5.12-35.84 10.24-10.24 25.6-15.36 35.84-5.12 15.36 10.24 30.72 20.48 40.96 35.84 10.24 10.24 10.24 25.6 0 35.84-5.12 5.12-10.24 5.12-20.48 5.12zM220.16 179.2c-5.12 0-15.36 0-20.48-10.24-10.24-10.24-5.12-25.6 5.12-35.84 15.36-10.24 25.6-20.48 40.96-30.72 10.24-10.24 25.6-5.12 35.84 5.12 10.24 10.24 5.12 25.6-5.12 35.84-15.36 10.24-25.6 20.48-40.96 30.72-5.12 5.12-10.24 5.12-15.36 5.12z m481.28-61.44h-10.24l-46.08-15.36c-15.36-5.12-20.48-20.48-15.36-30.72 5.12-20.48 15.36-25.6 30.72-20.48 15.36 5.12 35.84 10.24 51.2 20.48 15.36 5.12 20.48 20.48 10.24 35.84 0 5.12-10.24 10.24-20.48 10.24z m-358.4-10.24c-10.24 0-20.48-5.12-25.6-15.36-5.12-15.36 0-25.6 15.36-30.72 15.36-5.12 35.84-10.24 51.2-15.36 15.36-5.12 25.6 5.12 30.72 20.48 5.12 15.36-5.12 25.6-20.48 30.72-10.24 0-25.6 5.12-40.96 10.24h-10.24z m220.16-25.6c-25.6-5.12-51.2-5.12-76.8 0-15.36-5.12-30.72-15.36-30.72-30.72s10.24-25.6 25.6-25.6h87.04c15.36 0 25.6 15.36 20.48 30.72 0 15.36-15.36 25.6-25.6 25.6z" fill="#4c4c4c" p-id="7317"></path></svg>
                            
                                <svg v-if="problem.authorStatus == 1" t="1722532987317" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9530" width="20" height="20"><path d="M511.47776 959.86688c-247.40864 0-448.6656-201.25184-448.6656-448.6656 0-247.36256 201.25696-448.6656 448.6656-448.6656 247.41376 0 448.61952 201.30304 448.61952 448.6656 0 247.41376-201.20576 448.6656-448.6144 448.6656z m0-851.072c-221.92128 0-402.40128 180.5312-402.40128 402.4064s180.48 402.4064 402.40128 402.4064c221.8752 0 402.36032-180.5312 402.36032-402.4064s-180.48512-402.4064-402.36032-402.4064z m0 484.64384c-99.64544 0-180.73088-81.08032-180.73088-180.73088s81.08544-180.736 180.736-180.736c99.64544 0 180.72576 81.08544 180.72576 180.736 0 99.65056-81.08032 180.73088-180.73088 180.73088z m0-315.19744c-74.15808 0-134.46656 60.30848-134.46656 134.46656s60.3136 134.47168 134.46656 134.47168c74.1632 0 134.47168-60.3136 134.47168-134.47168s-60.3136-134.46656-134.47168-134.46656z m225.29024 487.64928a23.168 23.168 0 0 1-22.03136-16.15872c-28.29824-88.76032-109.9776-148.41856-203.25888-148.41856-87.7056 0-167.7312 54.99392-199.18848 136.832a23.02976 23.02976 0 0 1-29.85472 13.29152 23.0912 23.0912 0 0 1-13.30176-29.8496c38.23616-99.59936 135.6288-166.53312 242.35008-166.53312 113.44384 0 212.89472 72.6528 247.31648 180.6336a23.12704 23.12704 0 0 1-15.0016 29.10208 24.8064 24.8064 0 0 1-7.02976 1.09568z" fill="#4c4c4c" p-id="9531"></path></svg>
                                <svg v-if="problem.authorStatus == 2" t="1722533059511" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11829" width="20" height="20"><path d="M298.624 490.667a64 64 0 1 0 128 0 64 64 0 1 0-128 0zM597.29 490.667a64 64 0 1 0 128 0 64 64 0 1 0-128 0zM426.624 640h170.667q42.666 0 42.666 42.667 0 42.666-42.666 42.666H426.624q-42.667 0-42.667-42.666 0-42.667 42.667-42.667zM469.376 256v-54.059A85.333 85.333 0 0 1 426.709 128a85.333 85.333 0 0 1 85.334-85.333A85.333 85.333 0 0 1 597.376 128a85.333 85.333 0 0 1-42.667 73.856v54.101zM42.667 778.155A40.704 40.704 0 0 1 0 739.755V475.22a42.88 42.88 0 0 1 85.333 0v264.534a40.704 40.704 0 0 1-42.666 38.4zM980.48 778.155a40.704 40.704 0 0 1-42.667-38.4V475.22a42.88 42.88 0 0 1 85.334 0v264.534a40.704 40.704 0 0 1-42.667 38.4zM341.291 896h341.333q42.667 0 42.667 42.667 0 42.666-42.667 42.666H341.291q-42.667 0-42.667-42.666 0-42.667 42.667-42.667z" p-id="11830" fill="#4c4c4c"></path><path d="M255.957 341.333A42.667 42.667 0 0 0 213.291 384v341.333A42.667 42.667 0 0 0 255.957 768h512a42.667 42.667 0 0 0 42.667-42.667V384a42.667 42.667 0 0 0-42.667-42.667h-512m0-85.333h512a128 128 0 0 1 128 128v341.333a128 128 0 0 1-128 128h-512a128 128 0 0 1-128-128V384a128 128 0 0 1 128-128z" p-id="11831" fill="#4c4c4c"></path></svg>
                                <svg t="1722533184773" v-if="problem.authorStatus == 3" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16490" width="16" height="16"><path d="M567.1936 416.768a40.96 40.96 0 0 1-40.8064-40.7552V40.8064A40.96 40.96 0 0 1 567.1936 0h374.4256a40.96 40.96 0 0 1 40.8064 40.8064v334.3872a38.0416 38.0416 0 0 1-12.032 28.8256 44.288 44.288 0 0 1-28.7744 11.9808h-374.4256v0.8192zM56.0128 1024a40.96 40.96 0 0 1-40.8064-40.8064v-334.3872a40.96 40.96 0 0 1 40.8064-40.8064h374.3744a40.96 40.96 0 0 1 40.8064 40.8064v334.3872a40.96 40.96 0 0 1-40.8064 40.8064H56.0128zM0 291.9936h82.432v-13.6192C82.432 125.6448 201.5232 0.8192 348.7232 0.8192h27.2384v92.7744h-27.2384c-99.9936 0-180.736 83.2-181.5552 186.368v12.032h71.168L119.1936 431.2064 0 291.9936zM648.8064 1024v-92.8256h27.1872c99.2256 0 180.0192-83.2 180.7872-186.368v-12.032h-71.168l119.1936-139.1616L1024 732.8256h-82.432v13.568c0 152.832-119.1936 277.6064-266.3936 277.6064h-26.368z" fill="#4c4c4c" p-id="16491"></path></svg>
                            </span>
                            <span v-if="problem.authorTag == 1" class="align-class">
                                &nbsp;|&nbsp;
                                <svg t="1722532863560" class="icon uxButton" @click="changeAuthor(problem, 0)" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7316" width="18" height="18"><path d="M517.12 998.4h-40.96c-15.36 0-25.6-15.36-25.6-25.6s15.36-25.6 25.6-25.6H522.24c15.36 0 25.6 10.24 25.6 25.6s-10.24 25.6-25.6 25.6h-5.12z m102.4-10.24c-10.24 0-20.48-10.24-25.6-20.48-5.12-15.36 5.12-25.6 20.48-30.72l46.08-15.36c15.36-5.12 25.6 0 30.72 15.36 5.12 15.36 0 25.6-15.36 30.72-15.36 5.12-35.84 10.24-51.2 15.36l-5.12 5.12z m-235.52-5.12h-5.12c-15.36-5.12-35.84-10.24-51.2-15.36-15.36-5.12-20.48-20.48-15.36-35.84 5.12-15.36 20.48-20.48 35.84-15.36l46.08 15.36c15.36 5.12 20.48 20.48 15.36 30.72-5.12 10.24-15.36 20.48-25.6 20.48z m363.52-51.2c-10.24 0-15.36-5.12-20.48-10.24-5.12-10.24-5.12-25.6 10.24-35.84 15.36-10.24 25.6-15.36 40.96-25.6 10.24-10.24 25.6-5.12 35.84 5.12s5.12 25.6-5.12 35.84l-46.08 30.72h-15.36zM256 921.6c-5.12 0-10.24 0-15.36-5.12-15.36-10.24-30.72-20.48-40.96-30.72-10.24-10.24-10.24-25.6-5.12-35.84 10.24-10.24 25.6-10.24 35.84-5.12 10.24 10.24 25.6 20.48 40.96 30.72 10.24 10.24 15.36 25.6 5.12 35.84-5.12 5.12-10.24 10.24-20.48 10.24z m604.16-81.92c-5.12 0-10.24 0-15.36-5.12-10.24-10.24-10.24-25.6 0-35.84 10.24-10.24 20.48-25.6 30.72-35.84 10.24-10.24 25.6-15.36 35.84-5.12 10.24 10.24 15.36 25.6 5.12 35.84-10.24 15.36-20.48 30.72-35.84 40.96-5.12 5.12-15.36 5.12-20.48 5.12z m-711.68-15.36c-5.12 0-15.36-5.12-20.48-10.24l-30.72-46.08c-5.12-10.24-5.12-25.6 10.24-35.84 10.24-5.12 25.6-5.12 35.84 10.24 10.24 15.36 15.36 25.6 25.6 40.96 10.24 10.24 5.12 25.6-5.12 35.84 0 5.12-5.12 5.12-15.36 5.12z m788.48-102.4h-10.24c-15.36-5.12-20.48-20.48-15.36-35.84l15.36-46.08c5.12-15.36 20.48-20.48 30.72-15.36 15.36 5.12 20.48 20.48 15.36 30.72-5.12 15.36-10.24 35.84-20.48 51.2 0 5.12-5.12 15.36-15.36 15.36z m-855.04-20.48c-10.24 0-20.48-5.12-25.6-15.36-5.12-15.36-10.24-35.84-15.36-51.2-5.12-15.36 5.12-25.6 20.48-30.72 15.36-5.12 25.6 5.12 30.72 20.48 0 10.24 5.12 25.6 10.24 40.96 5.12 15.36 0 25.6-15.36 30.72l-5.12 5.12zM972.8 583.68c-5.12 0-5.12 0 0 0-15.36 0-25.6-15.36-25.6-25.6V512c0-15.36 10.24-25.6 25.6-25.6s25.6 10.24 25.6 25.6v56.32c-5.12 5.12-15.36 15.36-25.6 15.36z m-921.6-25.6c-15.36 0-25.6-10.24-25.6-25.6v-25.6-30.72c0-15.36 15.36-25.6 25.6-25.6 15.36 0 25.6 15.36 25.6 25.6v46.08c0 25.6-10.24 35.84-25.6 35.84z m911.36-117.76c-10.24 0-20.48-10.24-25.6-20.48l-15.36-46.08c0-15.36 5.12-30.72 20.48-35.84 15.36-5.12 25.6 5.12 30.72 15.36 5.12 15.36 10.24 35.84 15.36 51.2 5.12 15.36-5.12 25.6-20.48 30.72 0 5.12-5.12 5.12-5.12 5.12zM66.56 419.84h-5.12c-15.36-5.12-20.48-20.48-20.48-35.84 5.12-15.36 10.24-35.84 15.36-51.2 5.12-15.36 20.48-20.48 30.72-15.36 15.36 5.12 20.48 20.48 15.36 30.72 0 20.48-5.12 35.84-10.24 51.2-5.12 10.24-15.36 20.48-25.6 20.48zM911.36 307.2c-10.24 0-15.36-5.12-20.48-10.24-10.24-15.36-15.36-25.6-25.6-40.96-10.24-10.24-5.12-25.6 5.12-35.84 10.24-10.24 25.6-5.12 35.84 5.12l30.72 46.08c5.12 10.24 5.12 25.6-10.24 35.84h-15.36zM122.88 286.72c-5.12 0-10.24 0-15.36-5.12-10.24-5.12-10.24-20.48-5.12-35.84 10.24-15.36 20.48-25.6 30.72-40.96 10.24-10.24 25.6-10.24 35.84-5.12 10.24 10.24 10.24 25.6 5.12 35.84-10.24 15.36-20.48 25.6-25.6 40.96-5.12 5.12-15.36 10.24-25.6 10.24zM819.2 194.56c-5.12 0-10.24 0-15.36-5.12-10.24-10.24-25.6-20.48-35.84-30.72-10.24-10.24-15.36-25.6-5.12-35.84 10.24-10.24 25.6-15.36 35.84-5.12 15.36 10.24 30.72 20.48 40.96 35.84 10.24 10.24 10.24 25.6 0 35.84-5.12 5.12-10.24 5.12-20.48 5.12zM220.16 179.2c-5.12 0-15.36 0-20.48-10.24-10.24-10.24-5.12-25.6 5.12-35.84 15.36-10.24 25.6-20.48 40.96-30.72 10.24-10.24 25.6-5.12 35.84 5.12 10.24 10.24 5.12 25.6-5.12 35.84-15.36 10.24-25.6 20.48-40.96 30.72-5.12 5.12-10.24 5.12-15.36 5.12z m481.28-61.44h-10.24l-46.08-15.36c-15.36-5.12-20.48-20.48-15.36-30.72 5.12-20.48 15.36-25.6 30.72-20.48 15.36 5.12 35.84 10.24 51.2 20.48 15.36 5.12 20.48 20.48 10.24 35.84 0 5.12-10.24 10.24-20.48 10.24z m-358.4-10.24c-10.24 0-20.48-5.12-25.6-15.36-5.12-15.36 0-25.6 15.36-30.72 15.36-5.12 35.84-10.24 51.2-15.36 15.36-5.12 25.6 5.12 30.72 20.48 5.12 15.36-5.12 25.6-20.48 30.72-10.24 0-25.6 5.12-40.96 10.24h-10.24z m220.16-25.6c-25.6-5.12-51.2-5.12-76.8 0-15.36-5.12-30.72-15.36-30.72-30.72s10.24-25.6 25.6-25.6h87.04c15.36 0 25.6 15.36 20.48 30.72 0 15.36-15.36 25.6-25.6 25.6z" fill="#4c4c4c" p-id="7317"></path></svg>
                                &nbsp;
                                <svg t="1722532987317" class="icon uxButton" @click="changeAuthor(problem, 1)" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9530" width="20" height="20"><path d="M511.47776 959.86688c-247.40864 0-448.6656-201.25184-448.6656-448.6656 0-247.36256 201.25696-448.6656 448.6656-448.6656 247.41376 0 448.61952 201.30304 448.61952 448.6656 0 247.41376-201.20576 448.6656-448.6144 448.6656z m0-851.072c-221.92128 0-402.40128 180.5312-402.40128 402.4064s180.48 402.4064 402.40128 402.4064c221.8752 0 402.36032-180.5312 402.36032-402.4064s-180.48512-402.4064-402.36032-402.4064z m0 484.64384c-99.64544 0-180.73088-81.08032-180.73088-180.73088s81.08544-180.736 180.736-180.736c99.64544 0 180.72576 81.08544 180.72576 180.736 0 99.65056-81.08032 180.73088-180.73088 180.73088z m0-315.19744c-74.15808 0-134.46656 60.30848-134.46656 134.46656s60.3136 134.47168 134.46656 134.47168c74.1632 0 134.47168-60.3136 134.47168-134.47168s-60.3136-134.46656-134.47168-134.46656z m225.29024 487.64928a23.168 23.168 0 0 1-22.03136-16.15872c-28.29824-88.76032-109.9776-148.41856-203.25888-148.41856-87.7056 0-167.7312 54.99392-199.18848 136.832a23.02976 23.02976 0 0 1-29.85472 13.29152 23.0912 23.0912 0 0 1-13.30176-29.8496c38.23616-99.59936 135.6288-166.53312 242.35008-166.53312 113.44384 0 212.89472 72.6528 247.31648 180.6336a23.12704 23.12704 0 0 1-15.0016 29.10208 24.8064 24.8064 0 0 1-7.02976 1.09568z" fill="#4c4c4c" p-id="9531"></path></svg>
                                &nbsp;<svg t="1722533059511" class="icon uxButton" @click="changeAuthor(problem, 2)" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11829" width="20" height="20"><path d="M298.624 490.667a64 64 0 1 0 128 0 64 64 0 1 0-128 0zM597.29 490.667a64 64 0 1 0 128 0 64 64 0 1 0-128 0zM426.624 640h170.667q42.666 0 42.666 42.667 0 42.666-42.666 42.666H426.624q-42.667 0-42.667-42.666 0-42.667 42.667-42.667zM469.376 256v-54.059A85.333 85.333 0 0 1 426.709 128a85.333 85.333 0 0 1 85.334-85.333A85.333 85.333 0 0 1 597.376 128a85.333 85.333 0 0 1-42.667 73.856v54.101zM42.667 778.155A40.704 40.704 0 0 1 0 739.755V475.22a42.88 42.88 0 0 1 85.333 0v264.534a40.704 40.704 0 0 1-42.666 38.4zM980.48 778.155a40.704 40.704 0 0 1-42.667-38.4V475.22a42.88 42.88 0 0 1 85.334 0v264.534a40.704 40.704 0 0 1-42.667 38.4zM341.291 896h341.333q42.667 0 42.667 42.667 0 42.666-42.667 42.666H341.291q-42.667 0-42.667-42.666 0-42.667 42.667-42.667z" p-id="11830" fill="#4c4c4c"></path><path d="M255.957 341.333A42.667 42.667 0 0 0 213.291 384v341.333A42.667 42.667 0 0 0 255.957 768h512a42.667 42.667 0 0 0 42.667-42.667V384a42.667 42.667 0 0 0-42.667-42.667h-512m0-85.333h512a128 128 0 0 1 128 128v341.333a128 128 0 0 1-128 128h-512a128 128 0 0 1-128-128V384a128 128 0 0 1 128-128z" p-id="11831" fill="#4c4c4c"></path></svg>&nbsp;
                                <svg t="1722533184773" class="icon uxButton" @click="changeAuthor(problem, 3)" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16490" width="16" height="16"><path d="M567.1936 416.768a40.96 40.96 0 0 1-40.8064-40.7552V40.8064A40.96 40.96 0 0 1 567.1936 0h374.4256a40.96 40.96 0 0 1 40.8064 40.8064v334.3872a38.0416 38.0416 0 0 1-12.032 28.8256 44.288 44.288 0 0 1-28.7744 11.9808h-374.4256v0.8192zM56.0128 1024a40.96 40.96 0 0 1-40.8064-40.8064v-334.3872a40.96 40.96 0 0 1 40.8064-40.8064h374.3744a40.96 40.96 0 0 1 40.8064 40.8064v334.3872a40.96 40.96 0 0 1-40.8064 40.8064H56.0128zM0 291.9936h82.432v-13.6192C82.432 125.6448 201.5232 0.8192 348.7232 0.8192h27.2384v92.7744h-27.2384c-99.9936 0-180.736 83.2-181.5552 186.368v12.032h71.168L119.1936 431.2064 0 291.9936zM648.8064 1024v-92.8256h27.1872c99.2256 0 180.0192-83.2 180.7872-186.368v-12.032h-71.168l119.1936-139.1616L1024 732.8256h-82.432v13.568c0 152.832-119.1936 277.6064-266.3936 277.6064h-26.368z" fill="#4c4c4c" p-id="16491"></path></svg>
                            </span>
                        </span>
                        <span style="display: flex;">
                                    <span @click="editStartingPoint(problem)" class="uxButton">
                                        <svg t="1720712559835" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                            xmlns="http://www.w3.org/2000/svg" p-id="4277" width="20" height="20">
                                            <path
                                                d="M955.2384 1024H40.0896a40.0896 40.0896 0 0 1 0-80.1792h915.1488a40.0896 40.0896 0 0 1 0 80.1792zM745.472 390.2976L559.4112 200.704l102.9632-105.0112 186.6752 189.5424-103.2704 105.0624h-0.3072zM406.3744 735.744l-230.2464 40.704 44.7488-229.6832L503.808 257.4848l186.0608 189.5424-283.4944 288.768z m523.7248-480.9728L692.5312 12.5952A42.7008 42.7008 0 0 0 663.2448 0a41.5744 41.5744 0 0 0-29.2352 12.5952L157.0816 497.3568a39.2192 39.2192 0 0 0-12.288 22.528L88.3712 819.2a39.7824 39.7824 0 0 0 10.8032 35.1232 38.2976 38.2976 0 0 0 34.5088 11.4176L430.08 813.568a39.4752 39.4752 0 0 0 23.9616-11.3664l476.0576-486.5536a43.6224 43.6224 0 0 0 12.288-29.2864 43.3152 43.3152 0 0 0-12.288-29.2352v-2.3552z"
                                                p-id="4278" fill="#6c6c6c"></path>
                                        </svg>
                                    </span> &nbsp;
                        <span @click="deleteStartingPoint(problem.sid)" class="uxButton">
                                        <svg t="1721312041338" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                            xmlns="http://www.w3.org/2000/svg" p-id="2821" width="20" height="20">
                                            <path
                                                d="M608 768c-17.696 0-32-14.304-32-32V384c0-17.696 14.304-32 32-32s32 14.304 32 32v352c0 17.696-14.304 32-32 32zM416 768c-17.696 0-32-14.304-32-32V384c0-17.696 14.304-32 32-32s32 14.304 32 32v352c0 17.696-14.304 32-32 32zM928 224H768v-64c0-52.928-42.72-96-95.264-96H352c-52.928 0-96 43.072-96 96v64H96c-17.696 0-32 14.304-32 32s14.304 32 32 32h832c17.696 0 32-14.304 32-32s-14.304-32-32-32z m-608-64c0-17.632 14.368-32 32-32h320.736C690.272 128 704 142.048 704 160v64H320v-64z"
                                                p-id="2822" fill="#6c6c6c"></path>
                                            <path
                                                d="M736.128 960H288.064c-52.928 0-96-43.072-96-96V383.52c0-17.664 14.336-32 32-32s32 14.336 32 32V864c0 17.664 14.368 32 32 32h448.064c17.664 0 32-14.336 32-32V384.832c0-17.664 14.304-32 32-32s32 14.336 32 32V864c0 52.928-43.072 96-96 96z"
                                                p-id="2823" fill="#6c6c6c"></path>
                                        </svg>
                                    </span>
                        </span>
                    </div>
                    <div class="content">
                        <div v-if="startingPoint[problem_i].editStatus == 0">
                            {{ problem.content }}
                        </div>
    
                        <div v-else class="edit-class">
                            <!-- <div>
                                                    Edit
                                                </div> -->
                            <el-input v-model="startingPoint[problem_i].content" style="width: 100%; margin-bottom: 10px;" :rows="3" type="textarea" placeholder="Please input" />
                            <template v-for="(d, i) in problem.score">
                                <div>
                                    <strong>{{ criterion[i] }}: <span><el-input v-model="startingPoint[problem_i].score[i].Score" style="width: 30px;"></el-input></span></strong> &nbsp;
                                    <div style="margin-top: 5px; margin-bottom: 5px;">
                                        <el-input type="textarea" v-model="startingPoint[problem_i].score[i].Reason"></el-input>
                                        <!-- {{d.Reason}} -->
                                    </div>
                                </div>
                            </template>
                            <div class="align-class" style="margin-top: 5px; justify-content: right;">
                                <div class="edit-button" style="background-color: #c6e6f8; cursor: pointer;">
                                    <svg t="1719773054162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12918" width="20" height="20">
                                        <path
                                            d="M939.733333 495.866667c-206.266667-44.266667-367.333333-205.333333-411.6-411.6L512 9.2l-16.533333 77.066667c-44 204.933333-204.266667 365.2-409.2 409.2L9.2 512l76.266667 16.4c205.466667 44.133333 366 204.533333 410 410l16.4 76.4 15.866666-74.133333c44.4-206.8 206-368.4 412.8-412.8L1014.666667 512l-74.933334-16.133333z"
                                            fill="#ffffff" p-id="12919"></path>
                                    </svg>
                                </div>&nbsp;
                                <div class="edit-button" @click="confirmStartingPointChange(problem)" style="background-color: #11a420; cursor: pointer;">
                                    <svg t="1719773588642" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13943" width="18" height="18">
                                        <path
                                            d="M887.904 298.208c-12.864-12.064-33.152-11.488-45.216 1.408L415.936 753.984l-233.12-229.696C170.208 511.872 149.952 512 137.536 524.608c-12.416 12.576-12.256 32.864 0.352 45.248l256.48 252.672c0.096 0.096 0.224 0.128 0.32 0.224 0.096 0.096 0.128 0.224 0.224 0.32 2.016 1.92 4.448 3.008 6.784 4.288 1.152 0.672 2.144 1.664 3.36 2.144 3.776 1.472 7.776 2.24 11.744 2.24 4.192 0 8.384-0.832 12.288-2.496 1.312-0.544 2.336-1.664 3.552-2.368 2.4-1.408 4.896-2.592 6.944-4.672 0.096-0.096 0.128-0.256 0.224-0.352 0.064-0.096 0.192-0.128 0.288-0.224l449.184-478.208C901.44 330.592 900.768 310.336 887.904 298.208z"
                                            p-id="13944" fill="#ffffff"></path>
                                    </svg>
                                </div>&nbsp;
                                <div class="edit-button" style="background-color: #b35156; cursor: pointer;">
                                    <svg t="1719773612425" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16085" width="18" height="18">
                                                <path
                                                    d="M571.733333 512l226.133334-226.133333c17.066667-17.066667 12.8-42.666667-4.266667-59.733334-17.066667-17.066667-42.666667-17.066667-59.733333 0L512 452.266667 285.866667 226.133333c-17.066667-17.066667-42.666667-12.8-59.733334 4.266667-17.066667 17.066667-17.066667 42.666667 0 59.733333l226.133334 226.133334-226.133334 226.133333c-17.066667 17.066667-21.333333 42.666667-4.266666 59.733333 17.066667 17.066667 42.666667 21.333333 59.733333 4.266667l4.266667-4.266667 226.133333-226.133333 226.133333 226.133333c17.066667 17.066667 46.933333 12.8 59.733334-4.266666 12.8-17.066667 12.8-38.4 0-55.466667L571.733333 512z"
                                                    p-id="16086" fill="#ffffff"></path>
                                            </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-content" :ref="'info_content' + problem_i">
                        <div class="evaluation-button" @click="showRadar(problem)">评估</div>
                        <div class="evaluation-radar" v-if="problem.showTag == 1">
                            <div class="square-svg" ref="radar">
                                <svg width="100%" :height="radarWidth / zoomTag * .6">
                                    <g :transform="translate(radarWidth / zoomTag / 2, radarWidth / zoomTag * .6 / 2)">
                                        <path v-for="(d, i) in strokePath" :key="'radar_' + i" :d="d.d" :stroke="d.stroke" :stroke-width="d.width" :fill="d.fill" fill-opacity=".3"></path>
                                        <path v-for="(d, i) in problem.radarPath" :key="'radar_' + i" :d="d.d" :stroke="d.stroke" :stroke-width="d.width" :fill="d.fill" fill-opacity=".3"></path>
                                        <g>
                                            <text v-for="(d, i) in problem.radarPoint" :key="'radar_point_' + i" :x="d.x * (radarWidth + 20) / 2" :y="d.y * (radarWidth + 20) / 2" :fill="d.fill" font-size="12px" text-anchor="middle">{{ d.text + ': ' + d.score }}

                                            </text>
                                        </g>
                                    </g>
                                </svg>
                            </div>
                            <div>
                                <div>
                                    <h3 style="display: flex;" class="uxButton" @click="showEvaluationReason(problem_i)">
                                        评估原因
                                        <svg v-if="showReason[problem_i] == 1" t="1722531891004" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5170" width="30" height="30"><path d="M512 640l170.666667-213.333333H341.333333z" fill="#000000" p-id="5171"></path></svg>
                                        <svg v-else t="1722532024637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5332" width="30" height="30"><path d="M618.666667 533.333333l-213.333334-170.666666v341.333333z" fill="#000000" p-id="5333"></path></svg>
                                    </h3>
                                    <div v-if="showReason[problem_i] == 1">
                                        <template v-for="(d, i) in problem.score">
                                            <div v-if="criterionList[parseInt(i[i.length - 1]) - 1].status == true">
                                                <strong>{{ criterion[i] }}: <span>{{ d.Score }}</span></strong> &nbsp;
                                                <span>
                                                    {{d.Reason}}
                                                </span>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr v-if="compareTag == true" style="margin: 5px;">
            <div v-if="compareTag == true"  style="width: 100%; height: calc(42% - 30px);">
                <div style="z-index: 100; position: absolute; top: 0px; left: 0px">
                    <el-checkbox v-for="(problem, problem_i) in startingPoint" :key="'startingPoint_radar_' + problem_i" v-model="startingPoint[problem_i].radarStatus">
                        <span class="align-class"><div :style="{width: '10px', height: '10px', backgroundColor: radarColor[problem_i], borderRadius: '50%'}"></div> &nbsp; {{ "启发" + (parseInt(problem.sid) + 1) }}</span>
                    </el-checkbox>
                </div>
                <svg width="100%" height="100%">
                    <g :transform="translate(radarWidth / zoomTag / 2, radarWidth / zoomTag / 2)">
                        <path v-for="(d, i) in strokePath" :key="'radar_' + i" :d="d.d" :stroke="d.stroke" :stroke-width="d.width" :fill="d.fill" fill-opacity=".3"></path>
                        <g v-for="(problem, problem_i) in startingPoint" :key="'startingPoint_radar_' + problem_i">
                            <path v-for="(d, i) in problem.radarPath" :key="'radar_' + i" :d="d.d" :stroke="radarColor[problem_i]" :stroke-width="d.width" :fill="radarColor[problem_i]" fill-opacity=".3" :opacity="problem.radarStatus ? 1 : 0"></path>
                        </g>
                        <text v-for="(d, i) in startingPoint[0].radarPoint" :key="'radar_point_' + i" :x="d.x * (radarWidth + 20) / 2" :y="d.y * (radarWidth + 20) / 2" :fill="d.fill" font-size="12px" text-anchor="middle">{{ d.text }}

                        </text>
                        
                    </g>
                </svg>
            </div>
        </div>
        <div class="subRect" style="left: calc(59% + 0px); width: calc(41% - 0px)">
    
            <div class="subtitle">
                <span @click="showText">
                    &nbsp;最终方案
                </span>
                <span style="font-size: 15px; font-weight: normal;">
                    <span class="uxButton" style="text-decoration: underline;"  @click="selectProblem({sid: 0}, 2)">
                        新建
                    </span>
                    
                </span>
            </div>
            <div class="subContent" style="overflow: inherit;">
                <div v-for="(problem, problem_i) in solution" :key="'startingPoint_' + problem_i" class="container" style="height: 100%;">
                    <div class="align-class">
                        <span class="title">
                                    {{ '最终方案' + (problem_i + 1) }}
                                </span>
                        <span v-if="problem.editStatus == 1" @click="editSolution(problem)" class="evaluation-button" style="position: absolute; right: 80px;">保存</span>
    
                        <span style="display: flex;">
                            <span class="uxButton">
                                <svg t="1722488059992" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6602" width="20" height="20"><path d="M779.410286 789.406476c94.598095-52.565333 157.305905-143.36 157.305904-246.735238 0-65.389714-25.35619-125.610667-67.681523-174.470095 3.023238-19.260952 4.583619-38.66819 4.729904-58.124191 0-9.020952-0.975238-17.846857-1.560381-26.721523C950.51581 347.672381 999.619048 438.174476 999.619048 538.819048c0 112.88381-61.68381 213.089524-157.305905 277.650285v175.884191l-176.323048-107.032381a473.86819 473.86819 0 0 1-75.337143 6.241524c-121.124571 0-198.168381-45.689905-273.066666-117.857524 12.336762 0.682667 24.576 1.560381 37.107809 1.560381 17.554286 0 34.913524-0.828952 52.028953-2.194286 59.14819 40.082286 102.4 64.219429 183.929904 64.219429a403.260952 403.260952 0 0 0 81.383619-8.533334l107.373715 70.558477v-109.860572z m-346.063238-76.166095a933.790476 933.790476 0 0 1-105.813334-8.192l-177.298285 101.180952v-175.835428C68.022857 561.39581 24.380952 465.578667 24.380952 352.743619 24.380952 157.93981 207.189333 0 433.347048 0c188.025905 0 377.514667 157.93981 377.514666 352.743619s-151.649524 360.496762-377.514666 360.496762zM320.512 642.681905c26.136381 5.36381 84.74819 8.533333 112.835048 8.533333 191.146667 0 314.61181-131.900952 314.611809-294.619428 0-162.718476-158.183619-294.570667-314.611809-294.570667-196.510476 0-346.063238 131.900952-346.063238 294.570667 0 103.375238 49.103238 185.344 125.854476 246.735238v109.909333l107.373714-70.558476z m285.891048-239.567238a46.518857 46.518857 0 1 1 47.152762-46.518857 46.811429 46.811429 0 0 1-47.152762 46.518857z m-188.757334 0a46.518857 46.518857 0 1 1 47.152762-46.518857 46.86019 46.86019 0 0 1-47.152762 46.518857z m-188.757333 0a46.518857 46.518857 0 1 1 47.152762-46.518857 46.811429 46.811429 0 0 1-47.152762 46.518857z" p-id="6603" fill="#6c6c6c"></path></svg>
                            </span>&nbsp;
                            <span @click="editSolution(problem)" class="uxButton">
                                <svg t="1720712559835" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                            xmlns="http://www.w3.org/2000/svg" p-id="4277" width="20" height="20">
                                    <path d="M955.2384 1024H40.0896a40.0896 40.0896 0 0 1 0-80.1792h915.1488a40.0896 40.0896 0 0 1 0 80.1792zM745.472 390.2976L559.4112 200.704l102.9632-105.0112 186.6752 189.5424-103.2704 105.0624h-0.3072zM406.3744 735.744l-230.2464 40.704 44.7488-229.6832L503.808 257.4848l186.0608 189.5424-283.4944 288.768z m523.7248-480.9728L692.5312 12.5952A42.7008 42.7008 0 0 0 663.2448 0a41.5744 41.5744 0 0 0-29.2352 12.5952L157.0816 497.3568a39.2192 39.2192 0 0 0-12.288 22.528L88.3712 819.2a39.7824 39.7824 0 0 0 10.8032 35.1232 38.2976 38.2976 0 0 0 34.5088 11.4176L430.08 813.568a39.4752 39.4752 0 0 0 23.9616-11.3664l476.0576-486.5536a43.6224 43.6224 0 0 0 12.288-29.2864 43.3152 43.3152 0 0 0-12.288-29.2352v-2.3552z"
                                                p-id="4278" fill="#6c6c6c"></path>
                                        </svg>
                                    </span> &nbsp;
                        <span @click="deleteStartingPoint(problem.sid)" class="uxButton">
                                        <svg t="1721312041338" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                            xmlns="http://www.w3.org/2000/svg" p-id="2821" width="20" height="20">
                                            <path
                                                d="M608 768c-17.696 0-32-14.304-32-32V384c0-17.696 14.304-32 32-32s32 14.304 32 32v352c0 17.696-14.304 32-32 32zM416 768c-17.696 0-32-14.304-32-32V384c0-17.696 14.304-32 32-32s32 14.304 32 32v352c0 17.696-14.304 32-32 32zM928 224H768v-64c0-52.928-42.72-96-95.264-96H352c-52.928 0-96 43.072-96 96v64H96c-17.696 0-32 14.304-32 32s14.304 32 32 32h832c17.696 0 32-14.304 32-32s-14.304-32-32-32z m-608-64c0-17.632 14.368-32 32-32h320.736C690.272 128 704 142.048 704 160v64H320v-64z"
                                                p-id="2822" fill="#6c6c6c"></path>
                                            <path
                                                d="M736.128 960H288.064c-52.928 0-96-43.072-96-96V383.52c0-17.664 14.336-32 32-32s32 14.336 32 32V864c0 17.664 14.368 32 32 32h448.064c17.664 0 32-14.336 32-32V384.832c0-17.664 14.304-32 32-32s32 14.336 32 32V864c0 52.928-43.072 96-96 96z"
                                                p-id="2823" fill="#6c6c6c"></path>
                                        </svg>
                                    </span>
                        </span>
                    </div>
                    <div class="content" style="height: calc(58% - 20px); overflow-y: auto">
                        <div v-if="problem.editStatus == 0">
                            <v-md-preview :text="finalSolutionContent"></v-md-preview>
                        </div>
                        <div v-else>
                            <v-md-editor mode="edit" v-model="finalSolutionContent"></v-md-editor>
                        </div>
                    </div>
    
                    <hr style="margin: 5px;">
                    <div style="width: 100%; height: calc(42% - 20px);">
                        <span class="align-class">
                            <span class="title">
                                设计更新
                            </span>
                            <span class="uxButton" @click="uploadDialogTag = true">
                                <svg t="1722556775460" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17628" width="20" height="20"><path d="M1022.955204 556.24776c0 100.19191-81.516572 181.698249-181.718715 181.698249l-185.637977 0c-11.2973 0-20.466124-9.168824-20.466124-20.466124 0-11.307533 9.168824-20.466124 20.466124-20.466124l185.637977 0c77.628008 0 140.786467-63.148226 140.786467-140.766001 0-77.423347-62.841234-140.448776-140.203182-140.766001-0.419556 0.030699-0.828878 0.051165-1.248434 0.061398-5.935176 0.153496-11.665691-2.302439-15.666818-6.702656-4.001127-4.41045-5.884011-10.345626-5.157463-16.250102 1.330298-10.806113 1.944282-19.760043 1.944282-28.192086 0-60.763922-23.658839-117.874641-66.617234-160.833035-42.968627-42.958394-100.089579-66.617234-160.843268-66.617234-47.368844 0-92.742241 14.449084-131.208321 41.781592-37.616736 26.738991-65.952084 63.700811-81.925894 106.884332-2.425236 6.54916-8.012488 11.399631-14.827707 12.893658-6.815219 1.483794-13.927197-0.603751-18.859533-5.536087-19.289322-19.340487-44.943608-29.982872-72.245418-29.982872-56.322773 0-102.146425 45.813419-102.146425 102.125959 0 0.317225 0.040932 0.982374 0.092098 1.627057 0.061398 0.920976 0.122797 1.831718 0.153496 2.762927 0.337691 9.465582-5.863545 17.928325-15.001669 20.455891-32.356942 8.943696-61.541635 28.550243-82.181721 55.217602-21.305235 27.516704-32.571836 60.508096-32.571836 95.41307 0 86.244246 70.188572 156.422585 156.443052 156.422585l169.981393 0c11.2973 0 20.466124 9.15859 20.466124 20.466124 0 11.2973-9.168824 20.466124-20.466124 20.466124l-169.981393 0c-108.828614 0-197.3753-88.536452-197.3753-197.354833 0-44.053332 14.223956-85.712127 41.126676-120.473839 22.809495-29.450752 53.897537-52.086285 88.710414-64.816215 5.065366-74.322729 67.149353-133.2447 142.751215-133.2447 28.386514 0 55.504128 8.217149 78.651314 23.52581 19.657712-39.868009 48.842405-74.169233 85.497233-100.212376 45.434795-32.295544 99.004875-49.354058 154.918325-49.354058 71.692832 0 139.087778 27.915793 189.782368 78.600149 50.694589 50.694589 78.610382 118.089535 78.610382 189.782368 0 3.704368-0.102331 7.470135-0.296759 11.368932C952.633602 386.245901 1022.955204 463.188294 1022.955204 556.24776z" p-id="17629" fill="#4c4c4c"></path><path d="M629.258611 589.106122c-3.990894 3.990894-9.230222 5.996574-14.46955 5.996574s-10.478655-2.00568-14.46955-5.996574l-67.087954-67.077721 0 358.689289c0 11.307533-9.15859 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.15859-20.466124-20.466124l0-358.689289-67.087954 67.077721c-7.992021 7.992021-20.947078 7.992021-28.939099 0s-7.992021-20.957311 0-28.949332l102.023628-102.013395c7.992021-7.992021 20.947078-7.992021 28.939099 0l102.023628 102.013395C637.250632 568.148811 637.250632 581.114101 629.258611 589.106122z" p-id="17630" fill="#4c4c4c"></path></svg>
                            </span>
                        </span>
                        <div style="overflow-y: auto; height: calc(100% - 20px); width: 100%;">
                            <div v-for="(design, design_i) in problem.designPath" :key="design_i" class="design" >
                                <div v-if="design.length != 0">
                                    <img class="uxButton" @click="showPreview(design.url[0])" :src="design.url[0]" alt="" style="width: 100%;">
                                    
                                </div>
                                <h3>笔记</h3>
                                <div>
                                    {{ design.note }}
                                </div>
                            </div>
                        </div>
                        <!-- <img src="../assets/figure/redesign1.png" alt="" style="width: 100%;">
                        <h3>Change</h3>
                        <ol>
                            <li>Add a color-coded overlay in the image</li>
                            <li>Add a tooltip next to the “Remove background”</li>
                        </ol> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import problemData from '../assets/problem.json';
import { useDataStore } from "../stores/counter";

export default {
    name: "APP",
    props: ["msgH"],
    data() {
        return {
            msg1: "Hello, main!",
            raw_data: {},
            uploadData: {
                note: '',
                figure: []
            },
            uploadDialogTag: false,
            previewDialogTag: false,
            editMetricTag: false,
            previewUrl: '',
            problemList: [],
            startingPoint: [],
            solution: [],
            showReason: {},
            editContent: '',
            selectProblemIndexList: [],
            selectProblemIndex: -1,
            strokePath: [],
            compareTag: false,
            radarColor: ['#C5C2ED', '#96C8ED', '#FFCEBF', '#FFCEEE'],
            criterion: {
                Criterion_1: "复杂性",
                Criterion_2: "可行性",
                Criterion_3: "影响力",
                Criterion_4: "合理性"
            },
            criterionList: [
                {
                    value: "Criterion_1",
                    label: "复杂性",
                    status: true,
                    info: {
                        "Definition": "复杂性评估重设计解决方案的难度，区分小修和新增功能。",
                        "Rating_1": "非常低：微小调整，需最少努力。",
                        "Rating_2": "低：简单修复，易于实施，对现有结构影响小。",
                        "Rating_3": "中等：引入需适度规划和资源的小型新功能。",
                        "Rating_4": "高：引入需大量资源和整合努力的重要新功能。",
                        "Rating_5": "极高：实施改变用户体验或产品功能的主要新功能。"
                    }
                },
                {
                    value: "Criterion_2",
                    label: "可行性",
                    status: true,
                    info: {
                        "Definition": "可行性评估实施重设计解决方案的实用性和成功可能性。",
                        "Rating_1": "非常低：几乎不可能实施。",
                        "Rating_2": "低：实施困难，有重大障碍。",
                        "Rating_3": "中等：可合理实现，挑战可管理。",
                        "Rating_4": "高：容易实施，小障碍。",
                        "Rating_5": "非常高：实施直接，无重大障碍。"
                    }
                },
                {
                    value: "Criterion_3",
                    label: "影响力",
                    status: true,
                    info: {
                        "Definition": "影响力衡量重设计解决方案提升用户体验的程度。",
                        "Rating_1": "非常低：对用户体验几乎无改善。",
                        "Rating_2": "低：对用户体验有轻微提升。",
                        "Rating_3": "中等：对用户体验有明显改善。",
                        "Rating_4": "高：对用户体验有显著提升。",
                        "Rating_5": "非常高：对用户体验有革命性的改善。"
                    }
                },
                {
                    value: 'Criterion_4',
                    label: "合理性",
                    status: true,
                    info: {
                        "Definition": "合理性评估重设计解决方案是否逻辑上解决并消除了识别出的可用性问题。",
                        "Rating_1": "非常低：未解决可用性问题。",
                        "Rating_2": "低：较差地解决轻微的可用性问题。",
                        "Rating_3": "中等：适当解决一些可用性问题。",
                        "Rating_4": "高：有效解决大部分可用性问题。",
                        "Rating_5": "非常高：极好地解决和消除所有相关的可用性问题。"
                    }
                }
            ],
            selectAttributeList: [],
            radarPoint: [],
            radarPath: [],
            radarWidth: 0,
            zoomTag: .5,
            finalSolutionContent: '## Redesign Steps for Interface Updates and Guidance Elements\n### Interface Updates\n1. **Dynamic Feedback Implementation**\n- Design overlays that show real-time changes and effects during the background removal process.\n- Use animations to highlight changes in the image as the user applies different settings.\n2. **Visual Enhancements**\n- Implement color-coded feedback to help users understand success (green) or errors (red) quickly.\n### Guidance Elements\n1. **Placement of Help Icons**\n- Position help icons (e.g., question marks or lightbulbs) next to frequently used tools.\n- Ensure the icons are placed consistently across the interface to maintain user familiarity.\n2. **Design of Help Icons**\n- Choose a design that is easily recognizable and fits within the overall aesthetic of the application.\n- Consider using tooltips that appear on hover to provide immediate help without a click, ensuring a non-intrusive experience.\n3. **Content of Tooltips**\n- Develop tooltips content that provides quick and practical advice tailored to the tool it\'s associated with.\n- Include short descriptions, quick tips, and links to more in-depth tutorials.\n4. **Interactive Elements**\n- Make tooltips interactive, allowing users to access additional resources directly from the tooltip (e.g., video tutorials, step-by-step guides).\nThis revised design plan focuses on enhancing visual feedback and providing context-sensitive guidance without overwhelming the user during the rapid background removal process.'
        };
    },
    methods: {
        showPreview(url) {
            this.previewDialogTag = !this.previewDialogTag;
            this.previewUrl = url;
        },
        secondsToHMS(seconds) {
            // 计算小时
            const hours = Math.floor(seconds / 3600);
            // 计算剩余的秒数
            const remainingSeconds = seconds % 3600;
            // 计算分钟
            const minutes = Math.floor(remainingSeconds / 60);
            // 计算最终剩余的秒数
            const finalSeconds = remainingSeconds % 60;

            // 格式化为两位数
            const format = num => String(num).padStart(2, '0');

            return `${format(hours)}:${format(minutes)}:${format(finalSeconds)}`;
        },
        createStartingPoint() {
            let cnt = this.startingPoint.length;
            this.startingPoint.push({
                "sid": cnt,
                "pid": this.selectProblemIndex,
                "editStatus": 1,
                "authorStatus": 0,
                "authorTag": 0,
                "history": [],
                "content": "",
                "radarStatus": true,
                "score": {},
                "selectStatus": 0,
                "showTag": 0
            });
            for (let i in this.criterion) {
                this.startingPoint[this.startingPoint.length - 1].score[i] = {"Score": 0, "Reason": ""};
            }
        },
        confirmStartingPointChange(data) {
            data.editStatus = !data.editStatus;
            this.calcRadar()
        },
        handleSuccess(response, file) {
            // console.log(file)
            const fileUrl = URL.createObjectURL(file[0].raw);
            // file.url = fileUrl;
            this.uploadData.figure.push(fileUrl);
            // console.log(this.uploadData, file.url)
        },
        upload() {
            // console.log(this.uploadData);
            this.solution[0].designPath.push({
                url: this.uploadData.figure,
                note: this.uploadData.note
            });
            this.uploadDialogTag = false;
        },
        changeStatus(data, tag) {
            data.finishStatus = tag;
            data.finishTag = !data.finishTag;
        },
        changeAuthor(data, tag) {
            data.authorStatus = tag;
            data.authorTag = !data.authorTag;
        },
        addMetric() {
            this.criterionList.push({
                value: 'Criterion_' + (this.criterionList.length + 1),
                label: '',
                status: false,
                info: {
                    Definition: '',
                    Rating_1: '',
                    Rating_2: '',
                    Rating_3: '',
                    Rating_4: '',
                    Rating_5: ''
                }
            });
            this.criterion['Criterion_' + (this.criterionList.length + 1)] = '';
        },
        showText() {
            console.log(JSON.stringify(this.finalSolutionContent));
        },
        translate(x, y) {
            return `translate(${x}, ${y})`;
        },
        showRadar(data) {
            if (data.showTag == 0) {
                data.showTag = 1;
                
            } else {
                data.showTag = 0;
            }
        },
        calcRadar() {
            for (let data of this.startingPoint) {
                this.radarWidth = (this.$refs.info_content0[0].offsetWidth - 10) * this.zoomTag;
                let radarPoint = [];
                let radarPath = [];
                let strokePath = [];
                let radarCnt = 0;
                for (let i in this.criterionList) {
                    if (this.criterionList[i].status == true) { 
                        radarCnt++;
                    }
                }
                console.log(radarCnt, this.criterionList);
                // let radarAngle = 360 / Object.keys(this.criterion).length;
                let radarAngle = 360 / radarCnt;
                // console.log(radarAngle);
                let selectPath = {
                    d: 'M ',
                    width: 1,
                    fill: '#0057D2',
                    stroke: '#0057D2'
                }
                let tmpCnt = 0;
                // for (let i = 0; i < Object.keys(this.criterion).length; i++) {
                for (let i = 0; i < this.criterionList.length; ++i) {
                    if (this.criterionList[i].status == false) {
                        continue;
                    }
                    selectPath.d += (data['score'][`Criterion_${i + 1}`]['Score'] / 5 * this.radarWidth / 2) * Math.cos((tmpCnt * radarAngle / 180) * Math.PI) + ',' + (data['score'][`Criterion_${i + 1}`]['Score'] / 5 * this.radarWidth / 2) * Math.sin((tmpCnt * radarAngle / 180) * Math.PI) + ' ';
                    // if (i != Object.keys(this.criterion).length - 1) {
                    radarPoint.push({
                        x: Math.cos((tmpCnt * radarAngle / 180) * Math.PI),
                        y: Math.sin((tmpCnt * radarAngle / 180) * Math.PI),
                        text: this.criterion[`Criterion_${i + 1}`],
                        score: data['score'][`Criterion_${i + 1}`]['Score']
                    });
                    strokePath.push({
                        d: 'M 0 0 L ' + Math.cos((tmpCnt * radarAngle / 180) * Math.PI) * this.radarWidth / 2 + ' ' + Math.sin((tmpCnt * radarAngle / 180) * Math.PI) * this.radarWidth / 2,
                        width: .5,
                        stroke: '#ccc',
                        fill: 'none'
                    });
                    tmpCnt++;
                    if (tmpCnt != radarCnt) {
                        selectPath.d += 'L ';
                    } else {
                        selectPath.d += 'Z';
                    }
                }
                // tmpCnt = 0;

                for (let i = 0; i < 6; ++i) {
                    let tmpPath = 'M ';
                    for (let j = 0; j < radarPoint.length; ++j) {
                        tmpPath += (i / 5 * this.radarWidth / 2) * radarPoint[j].x + ',' + (i / 5 * this.radarWidth / 2) * radarPoint[j].y + ' ';
                        if (j != radarPoint.length - 1) {
                            tmpPath += 'L ';
                        } else {
                            tmpPath += 'Z';
                        }
                    }
                    strokePath.push({
                        d: tmpPath,
                        width: .5,
                        stroke: '#ccc',
                        fill: 'none'
                    });
                }

                // console.log(radarPoint, radarPath);
                radarPath.push(selectPath);
                // return [radarPoint, radarPath];
                data.radarPath = radarPath;
                data.radarPoint = radarPoint;
                this.strokePath = strokePath;
            }
        },
        getProblemList() {
            this.problemList = problemData;
        },
        getStartingPoint() {
            this.startingPoint = this.problemList[this.selectProblemIndexList[0]].startingPoint;
        },
        getSolution() {
            this.solution = this.problemList[this.selectProblemIndexList[0]].solution;
            for (const criterion in this.criterion) {
                radarPoint.push({
                    name: this.criterion[criterion],
                    value: this.raw_data[criterion]
                });
            }
            return [];
        },
        showEvaluationReason(id) {
            if (typeof this.showReason[id] == 'undefined') {
                this.showReason[id] = 1;
            } else {
                this.showReason[id] = !this.showReason[id];
            }
        },
        selectProblem(data, level) {
            if (level == 1) {
                this.selectProblemIndex = data.pid;
                this.startingPoint = this.startingPointsProcess(this.raw_data.startingPoint, data.pid);
                for (const pi in this.problemList) {
                    for (const d of this.problemList[pi]) {
                        d.selectStatus = 0;
                    }
                }
                this.showReason = {};
            }
            if (level == 2) {
                this.solution = this.finalSolutionProcess(this.raw_data.finalSolution, data.sid);
                for (const d of this.startingPoint) {
                    d.selectStatus = 0;
                }
                const dataStore = useDataStore();
                dataStore.showChatbot = true;
            }
            data.selectStatus = 1;
        },
        editStartingPoint(data) {
            data.editStatus = 1;
            data.showTag = 0;
        },
        editSolution(data) {
            data.editStatus = !data.editStatus;
        },
        problemProcess(data) {
            let problemData = {};
            for (let i in data) {
                if (typeof problemData[data[i]['problemType']] == 'undefined') {
                    problemData[data[i]['problemType']] = [];
                }
                problemData[data[i]['problemType']].push(data[i]);
            }
            return problemData;
        },
        startingPointsProcess(s_data, pid) {
            let startingPointData = [];
            for (let i in s_data) {
                if (s_data[i].pid == pid) {
                    startingPointData.push(s_data[i]);
                }
            }
            return startingPointData;
        },
        finalSolutionProcess(s_data, sid) {
            let finalSolutionData = [];
            for (let i in s_data) {
                if (s_data[i].sid == sid) {
                    finalSolutionData.push(s_data[i]);
                }
            }
            return finalSolutionData;
        },
        deleteStartingPoint(id) {
            const index = this.startingPoint.findIndex(d => {
                return d.sid == id
            })
            console.log(index);

            if (index > -1) {
                this.startingPoint.splice(index, 1);
            }
        },
        deleteSolution(id) {
            const index = this.solution.indexOf(id);
            console.log(index);
            if (index > -1) {
                this.solution.splice(index, 1);
            }
        }
    },
    created() {},
    mounted() {
        // let dataStore = useDataStore();
        // dataStore.$subscribe(() => {
        //     this.leftShow = dataStore.leftShow;
        //     this.video_select = dataStore.select_video;
        // })
        // console.log(problemData)
        this.raw_data = problemData;
        this.problemList = this.problemProcess(problemData.problem);
        // this.startingPoint = this.startingPointsProcess(this.raw_data.startingPoint, 1);
        // this.solution = this.finalSolutionProcess(this.raw_data.finalSolution, 0);
        // this.radarPoint = this.calcRadarPoint()
        // this.startingPointStatus = [];
        // for (let i = 0; i < this.startingPoint.length; ++i) {
        //     this.startingPointStatus.push(0);
        // }
    },
    updated () {
        if (this.strokePath.length == 0)
            this.calcRadar();
    },
    watch: {
        criterionList: {
            handler () {
                // console.log(this.criterionList);
                for (let d of this.criterionList) {
                    if (d.label != this.criterion[d.value]) {
                        this.criterion[d.value] = d.label;
                    }
                }
                this.calcRadar();
            },
            deep: true
        },
    },
    components: {}
}
</script>

<style>
.design {
    border: 1px solid #AAA;
    padding: 10px;
    border-radius: 5px;
}
.square-svg {
    width: 100%;
}

.square-svg::before {
    padding-top: 100%;
}

.uxButton {
    cursor: pointer;
}

.align-class {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.subRect {
    position: absolute;
    top: 0px;
    /* border: 1px solid #AAA; */
    height: 100%;
    border-radius: 3px;
}

.subtitle {
    font-size: 18px;
    font-weight: bold;
    text-align: left;
    height: 25px;
    background-color: #FF9F31;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.subtitle span {
    padding: 3px;
    border-radius: 3px;
}

.subContent {
    height: calc(100% - 25px);
    padding: 5px 0px;
    overflow-y: auto;
}

.subContent .container {
    text-align: left;
    margin-bottom: 5px;
    border: 1px solid #AAA;
    padding: 5px;
    border-radius: 3px;
    /* font-family: giulia; */
}

.subContent .title {
    color: #777;
    text-decoration: underline;
}

.container .icon {
    display: flex;
    align-items: center;
    /* justify-content: space-between; */
}

.edit-class {
    width: 100%;
    background: rgba(255, 159, 49, .7);
    padding: 5px;
}

.edit-button {
    padding: 2px 10px;
    border-radius: 100px;
    border: 0px solid #AAA;
}

.info-content {
    display: flex;
    flex-direction: column;
    justify-content: start;
    align-items: start;
    height: 100%;
    padding: 5px;
    /* background: rgba(255, 159, 49, .7); */
}

.evaluation-button {
    padding: 2px 10px;
    border-radius: 100px;
    border: 0px solid #AAA;
    background: rgba(255, 159, 49, .7);
    color: white;
    cursor: pointer;
}

.evaluation-button:hover {}

.evaluation-radar {
    width: 100%;
    margin-top: 10px;
}
</style>
